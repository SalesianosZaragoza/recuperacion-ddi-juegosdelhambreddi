<!DOCTYPE html>
<html xmlns:th="http://www.thyneleaf.org">
<head>
    <link rel="stylesheet" ref="/CafeteriaAPP/CafeteriaAPP/src/main/resources/templates/style.css">
	<link rel="icono" href="CafeteriaAPP/CafeteriaAPP/src/main/resources/static/favicon.ico">
	<link href='https://fonts.googleapis.com/css?family=JetBrains Mono' rel='stylesheet'>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="shortcut icon" href="/CafeteriaAPP/CafeteriaAPP/src/main/resources/static/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="css/style.css">
	<meta charset="UTF-8" />
	<script th:inline="javascript">
    
	function borrarBoton() {
		document.getElementById('boton').style.display = 'none';
	}
	function ocultarBoton(length) {
        var boton = document.getElementById('boton');
		if(length > 5)
			boton.style.display = 'none';
		else
			document.getElementById('container').style.display = 'none';
    }

    function confirmarBorrar(bebidaId) {
		// alert('comidaId: ' + comidaId);
        if (confirm('¿Estás seguro de que deseas borrar este café?')) {
            // Redirige al controlador de confirmación con el ID del café
            window.location.href = '/borrarBebida?bebidaId=' + bebidaId;
        } else {
            // No hacer nada o realizar alguna acción adicional
        }
    }
</script>
<title>Las BEBIDAS</title>
	</head>
	<body th:onload="'ocultarBoton(' + ${bebidas.size()} + ')'">
		<ul class="nav nav-pills nav-fill navbar-dark">
			<li class="nav-item">
				<a class="nav-link active" aria-current="page" href="/../">Indice</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{listarComida}">Comida</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{listarBebida}">Bebidas</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{listarCafe}">Cafe</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{listarCafe}">Refresco</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{consumicion}">Consumicion</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" th:href="@{listarPedido}">Pedidos</a>
			</li>
		</ul>
<h1>Bebidas</h1>
<form method="post" th:action="@{/CrearBebidaByDefault}" id="boton" onload="ocultarBoton('${bebidas.length}')">
    <button type="submit" class="btn btn-warning" onload="ocultarBoton('${bebidas.length}')">Cargar Bebidas Por Defecto</button>
</form>
<!-- <button class="btn btn-warning" th:onclick="@{|@{/CrearBebidaByDefault}|}">Cargar Bebidas Por Defecto</button> -->
	<div class="container" id="container">
        <div class="row">
            <div th:each="bebida: ${bebidas}" class="col-md-4">
                <div class="card">
					<div class="card-header">
						<img
							th:src="${bebida.cafe.nomcafe == 'nulo' ? '/ImagenesRefrescos/' + bebida.refresco.nomRefresco + '.jpg' : '/ImagenesCafes/' + bebida.cafe.nomcafe + '.jpg'}"/>
						<img th:each="nombreImagen : ${nombresImagenes}" 
							th:if="${nombreImagen == bebida.cafe.nomcafe + '.jpg'} ? ${nombreImagen} : null"
							th:src="@{${nombreImagen == (bebida.cafe.nomcafe + '.jpg')} ? '/ImagenesCafes/' + ${nombreImagen} : '/ImagenesRefrescos/' + ${nombreImagen}}"
							alt="Cafes" class="">
							<!-- th:src="${nombreImagen == cafe.nomcafe + '.jpg'} ? @{/ImagenesCafes/__${nombreImagen}__} : @{/ImagenesRefrescos/__${nombreImagen}__}"  -->
					</div>
                    <div class="card-body">
                        <h5 class="card-title" 
							th:text="${ #strings.equals(bebida.cafe.nomcafe, 'nulo') ? bebida.refresco.nomRefresco : bebida.cafe.nomcafe}"> 
						</h5>				
                        	<p class="card-text" th:if="not ${bebida.cafe.precio==0}">
                            	Precio: <span th:text="${bebida.cafe.precio}"></span><br>
                        	</p>
                    </div>
					<div class="card-footer">
						<small class="text-muted">Opciones</small><br>
						<a th:href="@{insertBebida}" class="btn btn-primary">Insertar Bebida</a>
						<button class="btn btn-danger" th:onclick="'confirmarBorrar(\'' + ${bebida.id} + '\')'">Eliminar</button>
					</div>
                </div>
            </div>
        </div>
    </div>
<br>
<br>
<footer>
    <div class="container">
        <a href="/../" class="btn btn-secondary">Volver al indice</a>
    </div>
</footer>


</body>
</html>